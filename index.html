<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cem Ozturk</title>

<style>
:root{
  --wall:#e6e6e6;
  --wall2:#f2f2f2;

  --paper:#fbfbfb;
  --paper2:#f2f2f2;
  --ink:#111;

  --pinRed:#d12a2a;
  --pinBlue:#1c4bd1;
  --pinBlack:#2a2a2a;

  --shadow:0 18px 40px rgba(0,0,0,.22);
  --shadowSoft:0 10px 24px rgba(0,0,0,.16);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  overflow:hidden;
  background:
    radial-gradient(900px 700px at 10% 10%, rgba(255,255,255,.75), transparent 60%),
    radial-gradient(800px 600px at 90% 20%, rgba(0,0,0,.08), transparent 55%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.02) 0 2px, transparent 2px 7px),
    linear-gradient(135deg, var(--wall), var(--wall2));
  font-family: Georgia, serif;
}

/* Board */
.board{
  position:relative;
  width:100vw;
  height:100vh;
}

/* Dim overlay */
.focus-dim{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  opacity:0;
  pointer-events:none;
  transition:opacity .35s ease;
  z-index:80;
}
.focus-dim.on{
  opacity:1;
  pointer-events:auto;
}

/* Documents */
.doc{
  position:absolute;

  /* IMPORTANT: rotate around the pin point (so it "hangs") */
  transform:rotate(var(--rot));
  transform-origin:22px 6px;

  transition:
    left .45s cubic-bezier(.22,.61,.36,1),
    top .45s cubic-bezier(.22,.61,.36,1),
    filter .25s ease,
    opacity .25s ease;
  cursor:grab;
  user-select:none;
  touch-action:none;
}
.doc:active{cursor:grabbing}

.pin{
  position:absolute;
  top:-10px; left:14px;
  width:16px; height:16px;
  border-radius:50%;
  background:var(--pin);
  box-shadow:0 6px 14px rgba(0,0,0,.25);
  pointer-events:none;
  z-index:3;
}
.pin::after{
  content:"";
  position:absolute;
  inset:4px;
  border-radius:50%;
  background:rgba(255,255,255,.6);
}

/* Photos */
.doc--photo{
  position:absolute;
}

/* little "string" above the photo so it reads as hanging */
.doc--photo::before{
  content:"";
  position:absolute;
  left:22px;         /* align with transform-origin/pin center */
  top:-44px;
  width:2px;
  height:44px;
  background:rgba(0,0,0,.25);
  border-radius:2px;
  z-index:1;
}

.doc--photo img{
  display:block;
  width:100%;
  height:100%;
  box-shadow:var(--shadow);
  pointer-events:none;
  -webkit-user-drag:none;
}

/* Name card */
.doc--name{
  background:linear-gradient(180deg, var(--paper), var(--paper2));
  border-radius:999px;
  padding:14px 18px 12px;
  box-shadow:var(--shadowSoft);
  text-align:center;
}
.doc--name h1{
  margin:0;
  font-size:28px;
  letter-spacing:.08em;
}
.doc--name p{
  margin:4px 0 0;
  font-size:13px;
  opacity:.75;
  font-family:system-ui;
}

/* Focus states */
.doc.focused{
  filter:brightness(1.12) contrast(1.05);
  z-index:120;
  cursor:default;
}
.doc.dimmed{opacity:.35}

/* Hint */
.hint{
  position:fixed;
  bottom:14px; right:14px;
  padding:10px 14px;
  border-radius:999px;
  background:rgba(250,250,250,.9);
  font-size:12px;
  font-family:system-ui;
  z-index:60;
}
</style>
</head>

<body>

<div class="focus-dim" id="dim"></div>
<main class="board" id="board"></main>
<div class="hint">Drag · Click to focus · ESC to exit</div>

<script>
(function(){
  const board = document.getElementById("board");
  const dim = document.getElementById("dim");

  const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));
  const rand=(a,b)=>Math.random()*(b-a)+a;

  let focused=null;
  const saved=new Map();

  function save(el){
    saved.set(el,{
      left:parseFloat(el.style.left),
      top:parseFloat(el.style.top)
    });
  }

  function wire(d){
    let dragging=false, sx, sy, sl, st, moved=false;

    d.addEventListener("pointerdown",e=>{
      if(focused) return;
      dragging=true; moved=false;
      sx=e.clientX; sy=e.clientY;
      sl=parseFloat(d.style.left); st=parseFloat(d.style.top);
      d.setPointerCapture(e.pointerId);
    });

    d.addEventListener("pointermove",e=>{
      if(!dragging) return;
      const dx=e.clientX-sx, dy=e.clientY-sy;
      if(Math.abs(dx)+Math.abs(dy)>6) moved=true;
      d.style.left=clamp(sl+dx,12,innerWidth-d.offsetWidth-12)+"px";
      d.style.top =clamp(st+dy,12,innerHeight-d.offsetHeight-12)+"px";
    });

    d.addEventListener("pointerup",()=>{
      if(dragging) save(d);
      dragging=false;
    });

    d.addEventListener("click",()=>{
      if(moved) return;
      toggleFocus(d);
    });
  }

  function toggleFocus(doc){
    if(focused){ clearFocus(); return; }
    focused=doc;
    dim.classList.add("on");
    doc.classList.add("focused");

    const isName = doc.classList.contains("doc--name");
    const fr=doc.getBoundingClientRect();
    const fx=fr.left+fr.width/2;
    const fy=fr.top+fr.height/2;

    document.querySelectorAll(".doc").forEach(d=>{
      if(d===doc) return;
      if(d.classList.contains("doc--name") && !isName) return;
      if(isName) return;

      const o=saved.get(d);
      const r=d.getBoundingClientRect();
      const cx=r.left+r.width/2;
      const cy=r.top+r.height/2;

      let dx=cx-fx, dy=cy-fy;
      const mag=Math.hypot(dx,dy)||1;
      dx/=mag; dy/=mag;

      d.style.left=clamp(o.left+dx*120,12,innerWidth-r.width-12)+"px";
      d.style.top =clamp(o.top +dy*120,12,innerHeight-r.height-12)+"px";
      d.classList.add("dimmed");
    });
  }

  function clearFocus(){
    dim.classList.remove("on");
    document.querySelectorAll(".doc").forEach(d=>{
      d.classList.remove("focused","dimmed");
      const o=saved.get(d);
      if(o){ d.style.left=o.left+"px"; d.style.top=o.top+"px"; }
    });
    focused=null;
  }

  dim.onclick=clearFocus;
  document.onkeydown=e=>e.key==="Escape"&&clearFocus();

  /* Name card */
  const name=document.createElement("article");
  name.className="doc doc--name";
  name.style.setProperty("--rot",rand(-3,3)+"deg");
  name.style.setProperty("--pin","var(--pinBlack)");
  name.innerHTML=`<span class="pin"></span><h1>CEM OZTURK</h1><p>Student, researcher, designer</p>`;
  board.appendChild(name);
  name.style.left=(innerWidth-name.offsetWidth)/2+"px";
  name.style.top="20px";
  save(name);
  wire(name);

  /* Photos */
  [
    ["./assets/designer1.jpg","var(--pinRed)"],
    ["./assets/designer2.jpg","var(--pinBlue)"],
    ["./assets/designer3.jpg","var(--pinBlack)"]
  ].forEach(([src,pin])=>{
    const d=document.createElement("article");
    d.className="doc doc--photo";
    d.style.setProperty("--rot",rand(-6,6)+"deg");
    d.style.setProperty("--pin",pin);
    d.innerHTML=`<span class="pin"></span><img src="${src}" draggable="false">`;
    board.appendChild(d);

    const img=d.querySelector("img");
    img.onload=()=>{
      const TARGET_WIDTH = 120;
      const MAX_WIDTH = 150;

      const nw=img.naturalWidth;
      const nh=img.naturalHeight;

      const scale=Math.min(TARGET_WIDTH/nw, MAX_WIDTH/nw, 1);
      const w=Math.round(nw*scale);
      const h=Math.round(nh*scale);

      d.style.width=w+"px";
      d.style.height=h+"px";
      d.style.left=rand(40,innerWidth-w-40)+"px";
      d.style.top =rand(80,innerHeight-h-40)+"px";
      save(d);
    };

    wire(d);
  });

})();
</script>

</body>
</html>
