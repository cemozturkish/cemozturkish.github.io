<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cem Ozturk</title>

<style>
:root{
  --board:#b07a4a;
  --board2:#9f6a3d;
  --paper:#f4f1e8;
  --paper2:#eee7d8;
  --pinRed:#d12a2a;
  --pinBlue:#1c4bd1;
  --pinBlack:#2a2a2a;
  --shadow:0 18px 40px rgba(0,0,0,.25);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  overflow:hidden;
  background:
    radial-gradient(1200px 900px at 12% 10%, rgba(255,255,255,.1), transparent 60%),
    radial-gradient(1000px 800px at 88% 22%, rgba(0,0,0,.1), transparent 55%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.035) 0 2px, transparent 2px 6px),
    linear-gradient(135deg, var(--board), var(--board2));
  font-family: Georgia, serif;
}

body::before{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background-image:
    radial-gradient(rgba(0,0,0,.1) 1px, transparent 1px),
    radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
  background-size:28px 28px,34px 34px;
  opacity:.35;
}

/* Masthead */
.masthead{
  position:fixed;
  top:18px; left:50%;
  transform:translateX(-50%);
  padding:14px 20px;
  border-radius:999px;
  background:rgba(244,241,232,.9);
  z-index:50;
  text-align:center;
}
.masthead h1{margin:0;font-size:28px;letter-spacing:.08em;text-transform:uppercase}
.masthead p{margin:4px 0 0;font-size:13px;opacity:.7;font-family:system-ui}

/* Board */
.board{
  position:relative;
  width:100vw;
  height:100vh;
  padding-top:140px;
}

/* Overlay darkener */
.focus-dim{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  opacity:0;
  pointer-events:none;
  transition:opacity .4s ease;
  z-index:90;
}
.focus-dim.on{opacity:1;pointer-events:auto}

/* Documents */
.doc{
  position:absolute;
  transform:rotate(var(--rot));
  transition:
    transform .6s cubic-bezier(.22,.61,.36,1),
    filter .6s ease,
    opacity .6s ease,
    left .6s cubic-bezier(.22,.61,.36,1),
    top .6s cubic-bezier(.22,.61,.36,1);
  cursor:grab;
}
.doc:active{cursor:grabbing}

.pin{
  position:absolute;
  top:-10px; left:14px;
  width:16px; height:16px;
  border-radius:50%;
  background:var(--pin);
  box-shadow:0 8px 16px rgba(0,0,0,.3);
  z-index:2;
}
.pin::after{
  content:"";
  position:absolute;
  inset:4px;
  border-radius:50%;
  background:rgba(255,255,255,.6);
}

/* Photo-only docs */
.doc--photo{
  background:none;
  box-shadow:none;
}
.doc--photo img{
  display:block;
  max-width:420px;
  max-height:420px;
  width:auto;
  height:auto;
  box-shadow:var(--shadow);
}

/* Focused document */
.doc.focused{
  transform:rotate(0deg) scale(1.15);
  filter:brightness(1.1) contrast(1.05);
  z-index:120;
  cursor:default;
}

/* Swooped away */
.doc.away{
  opacity:0;
  pointer-events:none;
}

/* Hint */
.hint{
  position:fixed;
  bottom:14px; right:14px;
  padding:10px 14px;
  border-radius:999px;
  background:rgba(244,241,232,.9);
  font-size:12px;
  font-family:system-ui;
  z-index:60;
}
</style>
</head>

<body>

<header class="masthead">
  <h1>Cem Ozturk</h1>
  <p>Student, researcher, designer</p>
</header>

<div class="focus-dim" id="dim"></div>
<main class="board" id="board"></main>

<div class="hint">Click a document Â· ESC to exit</div>

<script>
(function(){
  const board = document.getElementById("board");
  const dim = document.getElementById("dim");

  const photos = [
    {src:"./assets/designer1.jpg", pin:"var(--pinRed)"},
    {src:"./assets/designer2.jpg", pin:"var(--pinBlue)"}
  ];

  const pins = ["var(--pinRed)","var(--pinBlue)","var(--pinBlack)"];
  const rand = (a,b)=>Math.random()*(b-a)+a;
  const pick = a=>a[Math.floor(Math.random()*a.length)];

  let focused = null;
  let states = new Map();

  function makeDoc(i){
    const d = document.createElement("article");
    d.className="doc doc--photo";
    d.style.setProperty("--rot", rand(-8,8)+"deg");
    d.style.setProperty("--pin", photos[i]?.pin || pick(pins));

    d.innerHTML = `
      <span class="pin"></span>
      <img src="${photos[i].src}">
    `;

    board.appendChild(d);

    const img = d.querySelector("img");
    img.onload = () => {
      const w = Math.min(img.naturalWidth,420);
      const h = Math.min(img.naturalHeight,420);
      d.style.width = w+"px";
      d.style.height = h+"px";
      d.style.left = rand(40, innerWidth - w - 40)+"px";
      d.style.top  = rand(180, innerHeight - h - 40)+"px";
      states.set(d, {left:d.style.left, top:d.style.top, rot:d.style.transform});
    };

    d.addEventListener("click", ()=>toggleFocus(d));
    return d;
  }

  function toggleFocus(doc){
    if(focused){
      clearFocus();
      return;
    }
    focused = doc;
    dim.classList.add("on");

    document.querySelectorAll(".doc").forEach(d=>{
      if(d===doc){
        d.classList.add("focused");
      } else {
        d.classList.add("away");
        const dir = Math.random()>0.5 ? -1 : 1;
        d.style.left = (parseFloat(d.style.left)+dir*innerWidth*0.6)+"px";
        d.style.top  = (parseFloat(d.style.top)+dir*innerHeight*0.6)+"px";
      }
    });
  }

  function clearFocus(){
    dim.classList.remove("on");
    document.querySelectorAll(".doc").forEach(d=>{
      d.classList.remove("focused","away");
      const s = states.get(d);
      if(s){
        d.style.left = s.left;
        d.style.top  = s.top;
      }
    });
    focused = null;
  }

  dim.addEventListener("click", clearFocus);
  document.addEventListener("keydown", e=>{
    if(e.key==="Escape") clearFocus();
  });

  photos.forEach((_,i)=>makeDoc(i));
})();
</script>

</body>
</html>
