<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cem Ozturk</title>
  <meta name="description" content="Newsroom corkboard portfolio." />

  <style>
    :root{
      --board:#b07a4a;
      --board2:#9f6a3d;
      --paper:#f4f1e8;
      --paper2:#eee7d8;
      --muted:#5c5c5c;
      --pinRed:#d12a2a;
      --pinBlue:#1c4bd1;
      --pinBlack:#2a2a2a;
      --shadow2:0 10px 22px rgba(0,0,0,.22);
      --shadowBig:0 30px 90px rgba(0,0,0,.45);
      --radius:18px;
    }

    *{ box-sizing:border-box }
    html,body{ height:100% }

    body{
      margin:0;
      overflow:hidden;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      background:
        radial-gradient(1200px 900px at 12% 10%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(1000px 800px at 88% 22%, rgba(0,0,0,.10), transparent 55%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.035) 0 2px, transparent 2px 6px),
        linear-gradient(135deg, var(--board), var(--board2));
    }

    body::before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(rgba(0,0,0,.10) 1px, transparent 1px),
        radial-gradient(rgba(255,255,255,.08) 1px, transparent 1px);
      background-size:28px 28px,34px 34px;
      background-position:0 0,12px 18px;
      opacity:.35;
      mix-blend-mode:multiply;
    }

    /* Masthead */
    .masthead{
      position:fixed;
      top:18px;
      left:50%;
      transform:translateX(-50%);
      width:min(980px, calc(100% - 28px));
      z-index:50;
      text-align:center;
      padding:14px 18px 12px;
      border-radius:999px;
      background:rgba(244,241,232,.88);
      border:1px solid rgba(0,0,0,.14);
      box-shadow:0 14px 28px rgba(0,0,0,.18);
      backdrop-filter: blur(6px);
    }
    .masthead h1{
      margin:0;
      font-size:clamp(20px,3vw,34px);
      letter-spacing:.06em;
      text-transform:uppercase;
      font-weight:900;
    }
    .masthead p{
      margin:4px 0 0;
      font-size:13px;
      color:var(--muted);
      font-family: ui-sans-serif, system-ui;
    }

    .board{
      position:relative;
      height:100vh;
      width:100vw;
      padding-top:140px;
    }

    /* Backdrop for expanded document */
    .backdrop{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.35);
      z-index:180;
      opacity:0;
      visibility:hidden;
      transition: opacity .18s ease, visibility .18s ease;
    }
    .backdrop.is-on{
      opacity:1;
      visibility:visible;
    }

    /* Documents */
    .doc{
      position:absolute;
      width:var(--w);
      height:var(--h);
      background:linear-gradient(180deg, var(--paper), var(--paper2));
      border:1px solid rgba(0,0,0,.16);
      border-radius:var(--radius);
      box-shadow:var(--shadow2);
      transform:rotate(var(--rot));
      user-select:none;
      overflow:hidden;
      cursor:grab;
      touch-action:none; /* needed for touch dragging */
      will-change: transform, left, top;
    }
    .doc:active{ cursor:grabbing; }

    .doc::before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(700px 240px at 20% 15%, rgba(255,255,255,.34), transparent 55%),
        repeating-linear-gradient(0deg, rgba(0,0,0,.03) 0 1px, transparent 1px 4px);
      opacity:.55;
      mix-blend-mode:multiply;
    }

    .pin{
      position:absolute;
      top:-10px;
      left:18px;
      width:16px;
      height:16px;
      border-radius:999px;
      background:var(--pin);
      border:2px solid rgba(0,0,0,.18);
      box-shadow:0 10px 18px rgba(0,0,0,.28);
      z-index:3;
      pointer-events:none;
    }
    .pin::after{
      content:"";
      position:absolute;
      inset:4px;
      border-radius:999px;
      background:rgba(255,255,255,.55);
    }

    .doc-inner{
      position:relative;
      z-index:2;
      height:100%;
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .tag{
      font-family: ui-sans-serif, system-ui;
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(0,0,0,.6);
    }
    .headline{
      margin:0;
      font-size:18px;
      font-weight:900;
    }
    .stub{
      margin:0;
      font-size:13.5px;
      color:rgba(0,0,0,.68);
    }

    /* Photo docs */
    .doc--photo .doc-inner{ padding:12px }
    .doc-img{
      width:100%;
      height:calc(100% - 54px);
      object-fit:cover;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.16);
      box-shadow:0 10px 18px rgba(0,0,0,.18);
    }

    /* Expanded state */
    .doc.is-expanded{
      position:fixed !important;
      left:50% !important;
      top:54% !important;
      width:min(86vw, 760px) !important;
      height:min(80vh, 760px) !important;
      transform: translate(-50%,-50%) rotate(0deg) !important;
      z-index:200 !important;
      box-shadow: var(--shadowBig);
      cursor:default;
    }
    .doc.is-expanded .doc-img{
      height: calc(100% - 60px);
    }

    /* Hint */
    .hint{
      position:fixed;
      bottom:14px;
      right:14px;
      z-index:60;
      background: rgba(244,241,232,.86);
      border: 1px solid rgba(0,0,0,.14);
      border-radius: 999px;
      padding: 10px 12px;
      box-shadow: 0 14px 28px rgba(0,0,0,.18);
      font-size: 12px;
      color: rgba(0,0,0,.65);
      font-family: ui-sans-serif, system-ui;
    }

    /* Mobile: keep everything usable */
    @media (max-width:820px){
      body{ overflow:auto }
      .board{ height:auto; min-height:100vh; padding-bottom: 22px; }
      .doc{
        position:relative !important;
        left:auto !important;
        top:auto !important;
        transform:none !important;
        margin:14px auto;
        width:min(92vw,420px)!important;
        height:auto!important;
        aspect-ratio:1/1;
        cursor:default;
        touch-action:auto;
      }
      .hint{ display:none; }
    }
  </style>
</head>

<body>
  <header class="masthead">
    <h1>Cem Ozturk</h1>
    <p>Student, researcher, designer. Essays, maps, media, and other carefully curated chaos.</p>
  </header>

  <div class="backdrop" id="backdrop" aria-hidden="true"></div>
  <main class="board" id="board" aria-label="Newsroom bulletin board"></main>

  <div class="hint">Drag to rearrange. Click to expand. Esc to close.</div>

  <script>
  (function(){
    const board = document.getElementById('board');
    const backdrop = document.getElementById('backdrop');
    if(!board || !backdrop) return;

    const DOC_COUNT = 12;

    const photos = [
      { src:"./assets/designer1.jpg", title:"Designer 1", pin:"var(--pinRed)" },
      { src:"./assets/designer2.jpg", title:"Designer 2", pin:"var(--pinBlue)" }
    ];

    const pins = ["var(--pinRed)","var(--pinBlue)","var(--pinBlack)"];
    const rand = (a,b)=>Math.random()*(b-a)+a;
    const pick = a=>a[Math.floor(Math.random()*a.length)];

    let z = 80;
    let expanded = null;

    function makeDoc(i){
      const d = document.createElement("article");
      d.className = "doc";
      d.setAttribute("tabindex", "0");

      const size = Math.round(rand(220,320));
      d.style.setProperty("--w", size+"px");
      d.style.setProperty("--h", size+"px");
      d.style.setProperty("--rot", rand(-8,8).toFixed(2)+"deg");

      if(i < photos.length){
        const p = photos[i];
        d.classList.add("doc--photo");
        d.style.setProperty("--pin", p.pin);
        d.innerHTML = `
          <span class="pin" aria-hidden="true"></span>
          <div class="doc-inner">
            <div class="tag">photo</div>
            <h2 class="headline">${p.title}</h2>
            <img class="doc-img" src="${p.src}" alt="${p.title}">
          </div>`;
      } else {
        d.style.setProperty("--pin", pick(pins));
        d.innerHTML = `
          <span class="pin" aria-hidden="true"></span>
          <div class="doc-inner">
            <div class="tag">document ${String(i+1).padStart(2,"0")}</div>
            <h2 class="headline">Important document</h2>
            <p class="stub">Youâ€™ll replace this with text, links, or buttons.</p>
          </div>`;
      }

      return d;
    }

    function place(){
      board.innerHTML = "";
      const w = innerWidth, h = innerHeight, top = 140, m = 18;
      const placed = [];

      const overlaps = (x,y,ww,hh) => placed.some(p =>
        x < p.x + p.w + 18 && x + ww + 18 > p.x &&
        y < p.y + p.h + 18 && y + hh + 18 > p.y
      );

      for(let i=0; i<DOC_COUNT; i++){
        const d = makeDoc(i);
        board.appendChild(d);

        const ww = d.offsetWidth, hh = d.offsetHeight;

        let x = m, y = top + m;
        for(let t=0; t<60; t++){
          x = rand(m, Math.max(m, w - ww - m));
          y = rand(top + m, Math.max(top + m, h - hh - m));
          if(!overlaps(x,y,ww,hh)) break;
        }

        d.style.left = Math.round(x) + "px";
        d.style.top  = Math.round(y) + "px";
        d.style.zIndex = (++z).toString();

        placed.push({x,y,w:ww,h:hh});
      }

      wireInteractions();
    }

    // ------- Expand / collapse -------
    function openDoc(el){
      if (window.matchMedia('(max-width:820px)').matches) return; // on mobile we keep stacked
      if (expanded === el) return;
      closeDoc();

      expanded = el;
      expanded.dataset.prevLeft = expanded.style.left || "";
      expanded.dataset.prevTop  = expanded.style.top  || "";
      expanded.dataset.prevZ    = expanded.style.zIndex || "";

      backdrop.classList.add("is-on");
      expanded.classList.add("is-expanded");
      expanded.style.zIndex = "200";
      expanded.focus({preventScroll:true});
    }

    function closeDoc(){
      if(!expanded) return;
      expanded.classList.remove("is-expanded");
      expanded.style.left = expanded.dataset.prevLeft;
      expanded.style.top  = expanded.dataset.prevTop;
      expanded.style.zIndex = expanded.dataset.prevZ;
      expanded = null;
      backdrop.classList.remove("is-on");
    }

    backdrop.addEventListener("click", closeDoc);
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape") closeDoc();
    });

    // ------- Dragging -------
    function wireInteractions(){
      const docs = Array.from(document.querySelectorAll(".doc"));
      docs.forEach(doc => attachDragAndClick(doc));
    }

    function attachDragAndClick(el){
      let dragging = false;
      let moved = 0;
      let startX=0, startY=0;
      let startL=0, startT=0;

      const onPointerDown = (e) => {
        if (window.matchMedia('(max-width:820px)').matches) return;
        if (expanded) return; // don't drag while expanded

        el.setPointerCapture?.(e.pointerId);
        el.style.zIndex = (++z).toString();

        dragging = true;
        moved = 0;

        startX = e.clientX;
        startY = e.clientY;

        const rect = el.getBoundingClientRect();
        startL = rect.left;
        startT = rect.top;

        e.preventDefault();
      };

      const onPointerMove = (e) => {
        if(!dragging) return;

        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        moved = Math.max(moved, Math.abs(dx) + Math.abs(dy));

        const ww = el.offsetWidth;
        const hh = el.offsetHeight;

        const left = Math.min(Math.max(startL + dx, 10), window.innerWidth - ww - 10);
        const top  = Math.min(Math.max(startT + dy, 80), window.innerHeight - hh - 10);

        el.style.left = Math.round(left) + "px";
        el.style.top  = Math.round(top) + "px";
      };

      const onPointerUp = () => {
        if(!dragging) return;
        dragging = false;
      };

      // Click to expand (but ignore if you were dragging)
      const onClick = (e) => {
        if (window.matchMedia('(max-width:820px)').matches) return;
        if (moved > 8) return; // it was a drag
        openDoc(el);
      };

      el.addEventListener("pointerdown", onPointerDown);
      window.addEventListener("pointermove", onPointerMove);
      window.addEventListener("pointerup", onPointerUp);

      el.addEventListener("click", onClick);

      // Keyboard: Enter/Space expands
      el.addEventListener("keydown", (e) => {
        if (window.matchMedia('(max-width:820px)').matches) return;
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openDoc(el);
        }
      });
    }

    place();

    let t=null;
    addEventListener("resize", () => {
      clearTimeout(t);
      t = setTimeout(() => {
        closeDoc();
        place();
      }, 160);
    });
  })();
  </script>
</body>
</html>
